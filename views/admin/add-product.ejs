<!DOCTYPE html>
<html lang="vi">
<head>
    <title>Thêm Sản phẩm</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>
<body>
    <%- include('../partials/header') %>
    <div class="container">
        <h1>Thêm sản phẩm mới</h1>
        <form class="admin-form" action="/admin/add-item" method="POST">

            <div class="form-group">
                <label for="itemType">Loại sản phẩm</label>
                <select name="itemType" id="itemType" required>
                    <option value="product">Rượu vang</option>
                    <option value="accessory">Phụ kiện</option>
                    <option value="giftset">Quà tặng</option>
                </select>
            </div>

            <div class="form-group"><label>Tên</label><input type="text" name="name" required></div>
            <div class="form-group"><label>Mô tả</label><textarea name="description" required></textarea></div>
            <div class="form-group"><label>Link ảnh</label><input type="text" name="imageUrl" required></div>
            <div class="form-group"><label>Giá</label><input type="number" name="price" required></div>

            <div class="form-group specific-field product-field"><label>Thương hiệu</label><input type="text" name="brand"></div>
            <div class="form-group specific-field product-field"><label>Xuất xứ</label><input type="text" name="origin"></div>
            <div class="form-group specific-field product-field"><label>Loại vang (VD: Vang đỏ)</label><input type="text" name="type"></div>
            <div class="form-group specific-field product-field"><label>Dung tích (ml)</label><input type="number" name="volume" value="750"></div>

            <div class="form-group specific-field accessory-field" style="display: none;"><label>Danh mục phụ kiện</label>
                <select name="categoryAccessory">
                    <option>Ly uống rượu</option>
                    <option>Tủ rượu đẹp</option>
                    <option>Hộp đựng rượu</option>
                    <option>Đồ khui rượu</option>
                    <option>Decanter (Bình thở rượu)</option>
                </select>
            </div>

            <div class="form-group specific-field giftset-field" style="display: none;"><label>Danh mục quà tặng</label>
                <select name="categoryGiftSet">
                    <option>Hộp quà rượu vang</option>
                    <option>Quà tặng doanh nghiệp</option>
                    <option>Giỏ quà Tết</option>
                    <option>Phụ kiện quà tặng</option>
                </select>
            </div>

            <button type="submit">Thêm Sản phẩm</button>
        </form>
    </div>

    <script>
        document.getElementById('itemType').addEventListener('change', function() {
            // Ẩn tất cả các trường đặc thù
            document.querySelectorAll('.specific-field').forEach(el => el.style.display = 'none');

            // Hiển thị các trường tương ứng với lựa chọn
            const selectedType = this.value; // 'product', 'accessory', or 'giftset'
            document.querySelectorAll('.' + selectedType + '-field').forEach(el => el.style.display = 'block');
        });
        // Kích hoạt sự kiện change một lần lúc tải trang để hiển thị đúng
        document.getElementById('itemType').dispatchEvent(new Event('change'));
    </script>
</body>
</html>